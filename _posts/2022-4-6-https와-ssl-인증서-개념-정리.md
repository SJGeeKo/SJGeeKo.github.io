---
layout: post
title: HTTPSμ™€ SSL μΈμ¦μ„ κ°λ… μ •λ¦¬
---

μ°Έκ³ : [μƒν™μ½”λ”©](https://opentutorials.org/course/228/4894)

- HTTPSλ” λ³΄μ• κ°•ν™”λ HTTPμ„
- HTTPSμ™€ SSLμ κ΄€κ³„
    - SSL ν”„λ΅ν† μ½ μ„μ—μ„ μ„μ—μ„ HTTPS ν”„λ΅ν† μ½μ΄ λ™μ‘ν•λ” κ²ƒ
    - μ°Έκ³ λ΅ SSLκ³Ό TSLμ€ λ™μμ–΄λΌκ³  λ΄λ„ λ¬΄λ°©

### SSL μΈμ¦μ„μ μ—­ν• 

---

1. ν†µμ‹  λ‚΄μ©μ΄ **λ…Έμ¶λμ§€ μ•λ„λ΅** λ§‰μ
2. ν΄λΌμ΄μ–ΈνΈκ°€ μ ‘μ†ν•λ ¤λ” μ„λ²„κ°€ **μ‹ λΆ°ν•  μ μλ” μ„λ²„μΈμ§€ νλ‹¨ν•λ” κΈ°μ¤€**
    1. ν΄λΌμ΄μ–ΈνΈμ—κ² μ„λ²„κ°€ β€λ‚΄κ°€ λ‚ λ§μ•„!β€™ ν•κ³  μ•λ ¤μ£Όλ” μ©λ„
    2. ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ— μ ‘μ† β†’ μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ—κ² μΈμ¦μ„ μ „λ‹¬ β†’ λ„ λ§κµ¬λ‚? γ…‡γ…‹ μμ„λ΅ λ™μ‘.
3. ν†µμ‹  λ‚΄μ©μ μ•…μμ μΈ **λ³€κ²½ λ°©μ§€**

### SSLμ—μ„ μ‚¬μ©ν•λ” μ•”νΈν™” μΆ…λ¥

---

- μ„μ—μ„ SSLμ μ—­ν•  μ¤‘ ν•λ‚κ°€ β€ν†µμ‹  λ‚΄μ©μ΄ λ…Έμ¶λμ§€ μ•λ„λ΅ λ§‰μβ€™μ΄λΌκ³  ν–μ. μ¦‰, **μ•”νΈν™”**κ°€ λλ‹¤λ” λ».
    - μ•”νΈν™” μ¤‘μ” λ‹¨μ–΄ κ°„λ‹¨ μ†κ°
    - μ•”νΈν™”: μ–΄λ–¤ λ°μ΄ν„°λ¥Ό μ΄ν•΄ν•  μ μ—†λ” λ°μ΄ν„°λ΅ λ³€κ²½ν•λ” κ²ƒ
    - λ³µνΈν™”: μ•”νΈν™”μ λ°λ€
    - KEY: μ•”νΈν™”μ™€ λ³µνΈν™”μ κΈ°μ¤€μ΄ λλ” λ°μ΄ν„°(λ§ κ·Έλ€λ΅ μ—΄μ‡ )
        - μ¦‰, μ΄κ²ƒμ΄ μμ–΄μ•Ό μ–΄λ–¤ λ°μ΄ν„°λ΅ μ•”νΈν™” ν•κ±°λ‚ μ•”νΈν™”λ λ°μ΄ν„°λ¥Ό λ³µνΈν™” ν•  μ μλ” κ²ƒ.
- SSLμ„ μ΄ν•΄ν•κΈ° μ„ν•΄μ„λ” μ•”νΈν™” μΆ…λ¥ μ¤‘ λ€μΉ­ν‚¤, κ³µκ°ν‚¤λ¥Ό λ¨Όμ € μ΄ν•΄ν•  ν•„μ”κ°€ μμ.

**λ€μΉ­ν‚¤**

- μ•”νΈν™”ν•λ” μ½κ³Ό λ³µνΈν™”ν•λ” μ½μ΄ **λ™μΌν• ν‚¤**λ¥Ό κ°–κ³  μλ‹¤λ” μλ―Έμ—μ„ β€λ€μΉ­ν‚¤'λΌκ³  λ…λ…ν•¨.
- EX: μ•”νΈν™” ν•κ³  μ‹¶μ€ λ¬Έμκ°€ β€ABCβ€™μ„. μ΄ λ• λ‚΄κ°€ μ„μλ΅ λ€μΉ­ν‚¤λ¥Ό β€111111β€™λ΅ μ„¤μ •ν•μ—¬ μ•”νΈν™” μ§„ν–‰ β†’ β€ABCβ€™κ°€ μ• μ μ—†λ” λ¬Έμλ΅ λ³€ν™λ¨(μ: β€™aifgrqeuhβ€™) β†’ λ€μΉ­ν‚¤ β€111111β€™μ„ μ…λ ¥ν•μ—¬ λ³µνΈν™” μ§„ν–‰ β†’ λ‹¤μ‹ β€ABCβ€™λ΅ λ³€ν™λλ” λ°©μ‹
- λ‹¨μ 
    - ν‚¤κ°€ λ€μΉ­ν‚¤ ν•λ‚λΏ. λ€μΉ­ν‚¤λ¥Ό μ•κ² λλ©΄ λ„κµ¬λ‚ μ•”νΈν™”ν• μ •λ³΄λ¥Ό λ³µνΈν™” ν•  μ μλ‹¤ β†’ **λ³΄μ• κ°•λ„κ°€ λ‚®λ‹¤**

**κ³µκ°ν‚¤**

- μ•”νΈν™”ν•λ” μ½κ³Ό λ³µνΈν™” ν•λ” μ½μ΄ **μ„λ΅ λ‹¤λ¥Έ ν‚¤**λ¥Ό κ°–κ³  μλ‹¤
    - Aν‚¤λ΅ μ•”νΈν™”ν• λ°μ΄ν„°λ” Bν‚¤λ΅λ§ λ³µνΈν™” κ°€λ¥, Bν‚¤λ΅ μ•”νΈν™”ν• λ°μ΄ν„°λ” Aν‚¤λ΅λ§ λ³µνΈν™” κ°€λ¥
- λ‘ μ¤‘ ν•λ‚λ¥Ό **κ³µκ°ν‚¤(public key)**λ΅ μ§€μ •ν•κ³ , λ‚λ¨Έμ§€ ν•λ‚λ¥Ό **λΉ„λ°€ν‚¤(private key)**λ΅ μ§€μ •ν•λ‹¤.
- **λΉ„λ°€ν‚¤λ” λ‚(μ„λ²„)λ§ κ°–κ³  κ³µκ°ν‚¤λ” λ„κµ¬λ‚ λ°›μ„ μ μλ„λ΅** κ³µμ ν•λ‹¤.
- κ³µκ°ν‚¤λ¥Ό κ³µμ λ°›μ€ **νƒ€μΈ(λ“¤)μ€ κ³µκ°ν‚¤λ¥Ό μ΄μ©ν•΄ μ•”νΈν™”**ν• λ’¤ λ°μ΄ν„° ν†µμ‹ μ„ μ§„ν–‰ν•λ‹¤
    - μ–΄μ°¨ν”Ό λΉ„λ°€ν‚¤λ” λ‚λ§ κ°–κ³  μμΌλ‹ κ³µκ°ν‚¤λ¥Ό κ°–κ³  μλ” λ‹¤λ¥Έ μ‚¬λμ΄ νƒ€μΈμ λ°μ΄ν„°λ¥Ό λ³µνΈν™”ν•λ” κ²ƒμ€ λ¶κ°€λ¥
    - κ·Έλ ‡κΈ° λ•λ¬Έμ— μ• μ΄μ— κ³µκ°ν‚¤λ” λ„κµ¬λ‚ λ‹¤μ΄λ°›μ„ μ μκ² ν•΄λ‘¬λ„ λ¬Έμ  μ—†λ” κ²ƒ
- κ³µκ°ν‚¤λ¥Ό λ°μ΄ν„° μ κ³µν• μ½(μ„λ²„)μ μ‹ μ›λ³΄μ¥μ—λ„ μ‚¬μ©ν•  μ μμ
    - μ„λ²„κ°€ λΉ„λ°€ν‚¤λ΅ νΉμ • λ°μ΄ν„° μ•”νΈν™” β†’ μ•”νΈν™”λ λ°μ΄ν„°μ™€ κ³µκ°ν‚¤λ¥Ό ν•¨κ» ν΄λΌμ΄μ–ΈνΈμ—κ² μ „λ‹¬ β†’ ν΄λΌμ΄μ–ΈνΈλ” κ³µκ°ν‚¤λ΅ μ•”νΈν™”λ λ°μ΄ν„° λ³µνΈν™” β†’ λ³µνΈν™” μ λλ„¤? μ„λ²„κ°€ μ λ€λ΅λ λΉ„λ°€ν‚¤λ΅ μ•”νΈν™”ν•΄μ„ λ‚ν•ν… λ°μ΄ν„°λ¥Ό μ „λ‹¬ν–λ„¤? β†’ μ΄ μ„λ²„ λ―Ώμ„ μ μκ² λ‹¤
        - μ•”νΈν™”λ λ°μ΄ν„°μ™€ κ³µκ°ν‚¤λ¥Ό ν•¨κ» μ „λ‹¬ν•κΈ° λ•λ¬Έμ— λ„κµ¬λ‚ μ¤‘κ°„μ— ν•΄λ‹Ή λ°μ΄ν„° κ°€λ΅μ±„λ©΄ λ³µνΈν™” κ°€λ¥ν•κΈ΄ ν•¨
        - κ·Έλ¬λ‚ μ• μ΄μ— μ΄λ° ν†µμ‹ μ λ©μ μ€ **μ„λ²„κ°€ γ„Ήγ…‡μ„μ„ μ•λ ¤μ£Όλ” κ²ƒ**μ΄λΌ λ¬Έμ  μ—†μ.
        - μ΄λ¬ν• λ°©μ‹μ„ **μ „μμ„λ…**μ΄λΌκ³  ν•¨(μ„λ…μ΄ λ‚΄κ°€ λ‚μ„μ„ μ¦λ…ν•λ” κ²ƒμ΄λ‹ μ΄λ ‡κ² λ…λ…ν•λ“―?)
- λΉ„λ°€ν‚¤μ™€ κ³µκ°ν‚¤μ ν™•μ¥μλ” `.pem`, ν‚¤μ κΈΈμ΄λ¥Ό μ»¤μ¤ν…€ν•  μ μμ.
    - κ³µκ°ν‚¤λ” λΉ„λ°€ν‚¤λ¥Ό λ¨Όμ € λ§λ“  λ’¤ ν•΄λ‹Ή λΉ„λ°€ν‚¤λ¥Ό μ΄μ©ν•μ—¬ λ§λ“¤ μ μλ‹¤.

## SSL μΈμ¦μ„

---

- λ³Έκ²©μ μΌλ΅ SSL μΈμ¦μ„μ— λ€ν•΄ μ•μ•„λ³΄μ.
- μΈμ¦μ„μ κΈ°λ¥μ€ λ‘ κ°€μ§€
    - ν΄λΌμ΄μ–ΈνΈκ°€ μ ‘μ†ν• μ„λ²„κ°€ μ‹ λΆ°ν•  μ μλ” μ„λ²„μ„μ„ λ³΄μ¥
    - SSL ν†µμ‹ μ— μ‚¬μ©ν•  κ³µκ°ν‚¤λ¥Ό ν΄λΌμ΄μ–ΈνΈμ—κ² μ κ³µ
- μΈμ¦μ„μ λ‚΄μ©
    - μ„λΉ„μ¤μ μ •λ³΄(μΈμ¦μ„λ¥Ό λ°κΈ‰ν• CA, μ„λΉ„μ¤μ λ„λ©”μΈ ...)
    - μ„λ²„μΈ΅ κ³µκ°ν‚¤(κ³µκ°ν‚¤μ λ‚΄μ©, κ³µκ°ν‚¤μ μ•”νΈν™” λ°©λ²•)

### CA(Certificate authority)

- μ–΄λ–¤ μ‚¬μ΄νΈλ¥Ό μ‹ λΆ°ν•  μ μλ”μ§€ λ³΄μ¦ν•΄μ£Όλ” κΈ°μ—…λ“¤μ„ λ§ν•λ©°, Symantec, Comodo, GoDaddy, GlobalSign λ“±μ κΈ°μ—…μ΄ μ΄μ— ν•΄λ‹Ή
- **μ›ΉλΈλΌμ°μ €**λ” μ΄λ¬ν• **κΈ°μ—…λ“¤μ λ©λ΅**κ³Ό κ° κΈ°μ—…λ“¤μ **κ³µκ°ν‚¤λ¥Ό κ°–κ³  μμ**.
- SSLμ„ ν†µν•΄μ„ μ•”νΈν™”λ ν†µμ‹ μ„ μ κ³µν•λ ¤λ©΄ CAλ¥Ό ν†µν•΄ **μΈμ¦μ„λ¥Ό κµ¬μ…ν•΄μ•Ό ν•¨**.
    - λ¬΄λ£λ΅ μ‚¬μ©ν•λ” λ°©λ²•λ„ μμΌλ‹ κ±±μ • γ„΄γ„΄
    - κµ¬μ…ν•λ” κ³Όμ •μ—μ„ CAκ°€ μ„λΉ„μ¤μ— λ€ν• μ—¬λ¬ κ°€μ§€ μ •λ³΄λ¥Ό μ”κµ¬ν•κ² λ¨. μ΄λ“¤μ€ μΈμ¦κΈ°κ΄€μ΄κΈ° λ•λ¬Έμ— μμƒν• μ„λΉ„μ¤μΈμ§€ μ•„λ‹μ§€λ¥Ό μμ‹ λ“¤μ κΈ°μ¤€μΌλ΅ νλ‹¨ν•΄μ£Όλ” κ²ƒ.
    - μ„λΉ„μ¤λ” λΉ„λ°€ν‚¤μ™€ κ³µκ°ν‚¤λ¥Ό μƒμ„±ν•κ³  CAμ— κ³µκ°ν‚¤μ™€ μ„ μ •λ³΄λ¥Ό ν•¨κ» λ„κΈ°κ² λ¨
    - μ΄ν›„ CAμ—μ„ κ²€μ‚¬ ν›„ SSL μΈμ¦μ„λ¥Ό λ°κΈ‰ν•΄μ£Όλ©΄ κ·Έ λ‹¤μλ¶€ν„°λ” μ„λ²„κ°€ ν•΄λ‹Ή μΈμ¦μ„λ¥Ό ν΄λΌμ΄μ–ΈνΈμ—κ² μ „λ‹¬ν•¨μΌλ΅μ¨ HTTPS ν†µμ‹ μ΄ κ°€λ¥ν•΄μ§„λ‹¤.

### μΈμ¦μ„ λ™μ‘λ°©λ²•

1. ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ— μ ‘μ†
2. μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ—κ² SSLμΈμ¦μ„ μ „λ‹¬
3. ν΄λΌμ΄μ–ΈνΈλ” ν•΄λ‹Ή μΈμ¦μ„ κΉμ„ μ΄ μΈμ¦μ„λ¥Ό λ³΄μ¦ν•΄μ¤€ CAκ°€ μ–΄λ””μΈμ§€ ν™•μΈ
4. μμ‹ μ΄ κ°–κ³  μλ” CA λ©λ΅μ— ν•΄λ‹Ή CAκ°€ μλ”μ§€ ν™•μΈ
5. μλ‹¤λ©΄ ν΄λΌμ΄μ–ΈνΈκ°€ κ°–κ³  μλ” ν•΄λ‹Ή CAμ κ³µκ°ν‚¤λ΅ μΈμ¦μ„ λ³µνΈν™” μ‹λ„ν•¨
    
    <aside>
    π’΅ Β ν΄λΌμ΄μ–ΈνΈ(μ›ΉλΈλΌμ°μ €)λ” λ―Ώμ„ λ§ν• CAμ λ©λ΅κ³Ό κ³µκ°ν‚¤λ¥Ό κ°–κ³  μλ‹¤
    
    </aside>
    
6. λ³µνΈν™” μ„±κ³µν–λ‹¤? κ·ΈλΌ ν•΄λ‹Ή μΈμ¦μ„λ” κ·Έ CAκ°€ κ°–κ³  μλ” λΉ„λ°€ν‚¤λ¥Ό μ΄μ©ν•΄ μ•”νΈν™” λλ‹¤λ” μλ―Έ
    1. μ¦‰, ν•΄λ‹Ή CAκ°€ μ΄ μ„λ²„κ°€ μ•μ „ν•¨μ„ λ³΄μ¥ν•΄μ¤¬λ‹¤λ” μλ―Έ β†’ κµ³ μ•μ „ν•λ„¤ ν†µμ‹ ν•μ γ„±γ„±

### SSLμ λ™μ‘λ°©λ²•

- λ³΄μ•μƒ κ°€μ¥ μ΄μƒμ μΈ κ²ƒμ€ λ¨λ“  λ°μ΄ν„° ν†µμ‹ μ„ κ³µκ°ν‚¤ λ°©μ‹μΌλ΅ ν•λ” κ²ƒ.
- κ·Έλ¬λ‚ μ„±λ¥μ„ λ§μ΄ μ΅μ•„λ¨Ήλ”λ‹¤λ” λ‹¨μ μ΄ μμ
- λ”°λΌμ„ SSLμ€ κ³µκ°ν‚¤μ™€ λ€μΉ­ν‚¤λ¥Ό νΌν•©ν•μ—¬ μ‚¬μ©ν•λ” λ°©μ‹μΌλ΅ λ™μ‘ν•λ‹¤.
    - μ‹¤μ  λ°μ΄ν„°: λ€μΉ­ν‚¤ μ‚¬μ©
    - λ€μΉ­ν‚¤μ ν‚¤: κ³µκ°ν‚¤ μ‚¬μ©
- β€μ•…μ(Handshake) β†’ μ „μ†΅ β†’ μ„Έμ…μΆ…λ£β€™μ μμ„λ΅ λ™μ‘

**μ•…μ(Handshake) -** ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°€ μ„λ΅ μ‹ λΆ°λ¥Ό μ–»λ” κ³Όμ •

1. ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ— μ²μ μ ‘κ·Όν•¨
    - β€Server helloβ€
2. μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ μ •λ³΄λ¥Ό ν™•μΈν•κ³  μ•”νΈν™” λ°©μ‹ λ“±μ„ κ²°μ •ν• λ’¤ μ„λ²„μ μΈμ¦μ„λ¥Ό λ³΄λƒ„
3. ν΄λΌμ΄μ–ΈνΈκ°€ μΈμ¦μ„λ¥Ό ν™•μΈν•μ—¬ μ„λ²„κ°€ CAμ— μν•΄ κ²€μ¦λ κ³³μ„μ„ ν™•μΈν•¨(μμƒν• μ„λ²„λ” μ•„λ‹κµ° γ…‡γ…‡)
4. ν΄λΌμ΄μ–ΈνΈκ°€ λ€μΉ­ν‚¤λ¥Ό μƒμ„±ν•¨
5. μ„λ²„μ—μ„ λ°›μ€ μΈμ¦μ„μ— ν¬ν•¨λ κ³µκ°ν‚¤λ¥Ό μ΄μ©ν•μ—¬ μ•”νΈν™” ν›„ μ„λ²„μ— λ€μΉ­ν‚¤ μ „μ†΅
    - λ€μΉ­ν‚¤λ” ν„Έλ¦¬λ©΄ ν°μΌλ‚¨. λ”°λΌμ„ μ΄λ¥Ό μ•μ „ν•κ² λ³΄λ‚΄κΈ° μ„ν•΄ μ„λ²„μ—μ„ λ°›μ€ κ³µκ°ν‚¤λ¥Ό μ΄μ©ν•λ” κ²ƒ.
    - κ·Έμ— λ§λ” λΉ„λ°€ν‚¤λ¥Ό κ°–κ³  μλ” μ‚¬λ λ§κ³ λ” λ³µνΈν™” λ»ν•λ―€λ΅ λ§¤μ° μ•μ „!
6. μ„λ²„λ” μ΄λ¥Ό λ‹¤μ‹ μμ‹ μ λΉ„λ°€ν‚¤λ΅ λ³µνΈν™”
7. ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°€ μΌλ ¨μ κ³Όμ •μ„ κ±°μΉ λ’¤ λ™μΌν• session keyλ¥Ό κ°–κ² λ¨ β†’ μ΄μ λ¶€ν„° μ„λ΅ λ€μΉ­ν‚¤ λ°©μ‹μΌλ΅ μ•”νΈν™”, λ³µνΈν™”ν•μ—¬ λ°μ΄ν„° ν†µμ‹  κ°€λ¥!
8. μ•…μ μΆ…λ£

**μ „μ†΅(μ„Έμ…)**

- μ„ κ³Όμ •μ—μ„ λ§λ“¤μ–΄μ§„ session keyλ¥Ό μ΄μ©ν•μ—¬ λ€μΉ­ν‚¤ λ°©μ‹μΌλ΅ λ°μ΄ν„°λ¥Ό ν†µμ‹ ν•¨

**μ„Έμ…μΆ…λ£**

- SSL ν†µμ‹ μ΄ λλ‚¬μμ„ μ•λ¦Ό. μ΄ ν†µμ‹ μ„ μ„ν•΄ μ‚¬μ©λ session keyλ” νκΈ°λ¨
    - κ°™μ€ keyλ¥Ό κ³„μ† μ‚¬μ©ν•λ‹¤λ©΄ λ³΄μ•μƒ μΆ‹μ§€ μ•μΌλ―€λ΅ μ“°κ³  λ²„λ¦¬λ” κ²ƒ.
